<div class="care-body">
    <care-navbar></care-navbar>
    <care-receiver-selection (receiverChange)="onReceiverChange()"></care-receiver-selection>

    <care-event-table [variant]="'all_events'" [events]="events" [eventTypes]="eventTypes"
        (newEvent)="getLatestEvents()" (eventToDelete)="handleDeleteEvent($event)"></care-event-table>
    <care-chart [events]="events" [eventTypes]="eventTypes" [chartType]="'scatter'" [chartTitle]="'Event Scatter Chart'"></care-chart>
    
    @for (eventType of eventTypesWithGraphs; track eventType.type) {
        <care-chart [events]="events" [chartType]="eventType.graph!.type" [eventTypes]="[eventType]"
            [chartTitle]="eventType.graph!.title"></care-chart>
    }

</div>

@if (selectedEvent){
<care-event-modal [event]="selectedEvent" [(eventAction)]="eventAction" [(showModal)]="showEventModal"
    (eventChange)="getLatestEvents()"></care-event-modal>
}

<care-alert></care-alert>