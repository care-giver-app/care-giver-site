<div class="calendar-container">
    <care-calendar-header [(view)]="view" [(viewDate)]="viewDate">
    </care-calendar-header>

    <div [ngSwitch]="view">
        <mwl-calendar-month-view *ngSwitchCase="'month'" [viewDate]="viewDate" [events]="calendarEvents"
            (dayClicked)="changeDay($event.day.date)" (eventClicked)="showEvent($event.event)">
        </mwl-calendar-month-view>
        <mwl-calendar-week-view *ngSwitchCase="'week'" [viewDate]="viewDate" [events]="calendarEvents"
            (dayHeaderClicked)="changeDay($event.day.date)" (eventClicked)="showEvent($event.event)">
        </mwl-calendar-week-view>
        <mwl-calendar-day-view *ngSwitchCase="'day'" [viewDate]="viewDate" [events]="calendarEvents"
            (eventClicked)="showEvent($event.event)">
        </mwl-calendar-day-view>
    </div>
</div>

<care-modal [show]="showEventModal" [header]="'Event Info'" (close)="closeEventModal()">
    <div modal-body *ngIf="selectedEvent">
        <div><strong>Event:</strong> {{ selectedEvent.type }}</div>
        <div><strong>Logged By:</strong> {{ userService.getLoggedUser(selectedEvent.userId) }}</div>
        <div><strong>Timestamp:</strong> {{ eventService.getReadableTimestamp(selectedEvent) }}</div>
        @if (eventService.hasData(selectedEvent)) {
        <div><strong>{{ eventService.getDataName(selectedEvent) }}:</strong> {{ selectedEvent.data[0].value }} {{
            eventService.getDataUnit(selectedEvent) }}
        </div>
        }
    </div>
    <div modal-footer>
        <!-- <button class="btn btn-danger modal-button" (click)="confirmDeleteEvent()">Delete</button>
        <button class="btn btn-secondary modal-button" (click)="closeDeleteModal()">Cancel</button> -->
    </div>
</care-modal>