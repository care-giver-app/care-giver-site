<div class="auth-container">
    <div class="auth-box">
        @if (showCodeVerification){
        <!-- Code Verification Form -->
        <ng-container *ngTemplateOutlet="codeAuthTemplate"></ng-container>
        } @else {
        <!-- Tabs for Sign In and Sign Up -->
        <div class="tabs">
            <button [class.active]="activeTab === 'signIn'" (click)="setActiveTab('signIn')">
                Sign In
            </button>
            <button [class.active]="activeTab === 'signUp'" (click)="setActiveTab('signUp')">
                Sign Up
            </button>
        </div>

        <!-- Tab Content -->
        <div class="tab-content">
            <ng-container *ngIf="activeTab === 'signIn'">
                <ng-container *ngTemplateOutlet="signInTemplate"></ng-container>
            </ng-container>
            <ng-container *ngIf="activeTab === 'signUp'">
                <ng-container *ngTemplateOutlet="signUpTemplate"></ng-container>
            </ng-container>
        </div>
        }
    </div>
</div>

<!-- Sign-In Template -->
<ng-template #signInTemplate>
    <form (ngSubmit)="signIn(signInForm)" #signInForm="ngForm">
        <h2>Sign In</h2>

        <label for="sign-in-email">Email</label>
        <input id="sign-in-email" type="email" name="email" placeholder="Enter your email" required ngModel>

        <label for="sign-in-password">Password</label>
        <input id="sign-in-password" type="password" name="password" placeholder="Enter your password" required ngModel>

        <button type="submit" class="amplify-button amplify-button--primary">Sign In</button>
    </form>
</ng-template>

<!-- Sign-Up Template -->
<ng-template #signUpTemplate>
    <form (ngSubmit)="signUp(signUpForm)" #signUpForm="ngForm">
        <h2>Create an Account</h2>

        <label for="sign-up-first-name">First Name</label>
        <input id="sign-up-first-name" type="text" name="firstName" placeholder="Enter your first name" required
            ngModel>

        <label for="sign-up-last-name">Last Name</label>
        <input id="sign-up-last-name" type="text" name="lastName" placeholder="Enter your last name" required ngModel>

        <label for="sign-up-email">Email</label>
        <input id="sign-up-email" type="email" name="email" placeholder="Enter your email" required ngModel>

        <label for="sign-up-password">Password</label>
        <input id="sign-up-password" type="password" name="password" placeholder="Enter your password" required ngModel>

        <label for="sign-up-confirm-password">Confirm Password</label>
        <input id="sign-up-confirm-password" type="password" name="confirmPassword"
            placeholder="Please confirm your password" required ngModel>

        <button type="submit" class="amplify-button amplify-button--primary">Create Account</button>
    </form>
</ng-template>

<!-- Code Authentication Template -->
<ng-template #codeAuthTemplate>
    <form (ngSubmit)="verifyCode(codeForm)" #codeForm="ngForm">
        <h2>Verify Your Account</h2>

        <label for="auth-code">Verification Code</label>
        <input id="auth-code" type="text" name="code" placeholder="Enter the verification code" required ngModel>

        <button type="submit" class="amplify-button amplify-button--primary">Verify Code</button>
    </form>
</ng-template>